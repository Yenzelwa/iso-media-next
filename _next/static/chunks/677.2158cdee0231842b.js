"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[677],{5677:function(e,t,n){n.r(t);var s=n(9268),l=n(6006);let r=e=>{let{video_path:t}=e,[n,r]=(0,l.useState)(!0),[i,a]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[u,d]=(0,l.useState)("00:00"),[m,v]=(0,l.useState)(0),[h,x]=(0,l.useState)(0),[p,j]=(0,l.useState)(!1),[f,g]=(0,l.useState)(1),[N,b]=(0,l.useState)(!1),[y,L]=(0,l.useState)(!1),[C,E]=(0,l.useState)(t),w=(0,l.useRef)(null),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=document.createElement("video");return t&&C!==t&&(e.src=t,E(t)),()=>{}},[t,C]);let M=e=>{e.preventDefault()};function V(e){let t=Math.round(e/3600),n=Math.round(e%3600/60),s=Math.round(e%60),l=n<10?"0".concat(n):n,r=s<10?"0".concat(s):s;return t>0?"".concat(t<10?"0".concat(t):t," :").concat(l,":").concat(r):"".concat(l,":").concat(r)}function k(e){if(null==document.fullscreenElement){let e=document.querySelector(".video-container");e&&null==document.fullscreenElement&&e.requestFullscreen&&(o(!0),e.requestFullscreen())}else document.exitFullscreen&&(o(!1),document.exitFullscreen())}(0,l.useEffect)(()=>{let e=()=>{let e=w.current;if(e&&!e.paused){let t=(null==e?void 0:e.currentTime)/(null==e?void 0:e.duration)*100;x(t)}},s=()=>{let t=document.querySelector(".video-container");t&&(t.style.width="100%");let n=w.current,s=document.querySelector(".timeline-container");if(n)return d(V(n.duration)),n.addEventListener("timeupdate",e),s&&(s.addEventListener("mousemove",z),s.addEventListener("mousedown",B),document.addEventListener("mouseup",e=>{}),document.addEventListener("mousemove",e=>{})),()=>{n.removeEventListener("timeupdate",e),null==s||s.addEventListener("mousemove",z),null==s||s.addEventListener("mousedown",B)}},l=w.current;if(l&&(t&&(l.src=t),n?l.play():l.pause(),l.muted=i),l){l.addEventListener("loadedmetadata",s);let e=document.querySelector(".full-screen-btn");e&&e.addEventListener("click",k);let t=document.querySelector(".speed-btn");t&&t.addEventListener("click",H);let n=document.querySelector(".volume-slider");n&&n.addEventListener("input",q)}return()=>{l&&(l.removeEventListener("loadedmetadata",s),l.removeEventListener("contextmenu",M))}},[i,n,m]),(0,l.useEffect)(()=>{let e=setInterval(()=>{let e=w.current;e&&!e.paused&&v(e=>e+1)},1e3);return()=>clearInterval(e)},[]),new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}),document.addEventListener("mousemove",e=>{z(e)});let H=e=>{let t=w.current;if(t){t.playbackRate=e,g(e);let n=document.querySelector(".speed-btn");n&&(n.textContent="".concat(e,"x"))}b(!N)},q=()=>{let e=w.current,t=document.querySelector(".volume-slider"),n=document.querySelector(".video-container");if(e&&t&&n){let s;e.volume=parseFloat(t.value),e.muted||0===e.volume?(t.value="0",s="muted"):e.muted||e.volume>=.5?(s="high",e.muted=!1,a(!1)):(s="low",e.muted=!1,a(!1)),n.dataset.volumeLevel=s}};function B(e){let t=document.querySelector(".timeline-container"),n=w.current;if(t&&n){let s=t.getBoundingClientRect(),l=Math.min(Math.max(0,e.x-s.x),s.width)/s.width;j((1&e.buttons)==1);let r=document.querySelector(".video-container");r&&(r.classList.toggle("scrubbing",p),p?(n.paused,n.pause()):(n.currentTime=l*n.duration,n.paused||n.play()))}z(e)}function z(e){let t=S.current;if(t){let n=t.getBoundingClientRect(),s=Math.min(Math.max(0,e.x-n.x),n.width)/n.width;t.style.setProperty("--preview-position",s.toString())}}let F=()=>{L(!0)},P=()=>{setTimeout(()=>{},2e3)},R=()=>{let e=w.current;e&&(e.paused?e.play():e.pause())};return(0,s.jsxs)("div",{className:"video-container",children:[(0,s.jsxs)("div",{className:"video-container ".concat((()=>{let e=w.current;if(e)return e.paused})()?"paused":""),"data-volume-level":"high",onMouseEnter:F,onMouseLeave:P,onClick:R,children:[(0,s.jsx)("img",{className:"thumbnail-img"}),y&&(0,s.jsxs)("div",{className:"video-controls-container",children:[(0,s.jsx)("div",{className:"timeline-container",children:(0,s.jsxs)("div",{className:"timeline",children:[(0,s.jsx)("div",{className:"progress-line",style:{width:"".concat(h,"%")}}),(0,s.jsxs)("div",{className:"preview-img",children:[(0,s.jsx)("img",{alt:"testing img"}),(0,s.jsx)("div",{className:"duration",children:u})]}),(0,s.jsx)("div",{className:"thumb-indicator",children:"tumb nail"})]})}),(0,s.jsxs)("div",{className:"controls",children:[(0,s.jsx)("button",{onClick:()=>r(!n),className:"play-pause-btn",children:n?(0,s.jsx)("svg",{className:"pause-icon",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M14,19H18V5H14M6,19H10V5H6V19Z"})}):(0,s.jsx)("svg",{className:"play-icon",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M8,5.14V19.14L19,12.14L8,5.14Z"})})}),(0,s.jsxs)("div",{className:"volume-container",children:[(0,s.jsx)("button",{onClick:()=>a(!i),className:"mute-btn",children:i?(0,s.jsx)("svg",{className:"volume-muted-icon",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z"})}):(0,s.jsx)("svg",{className:"volume-high-icon",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"})})}),(0,s.jsx)("input",{className:"volume-slider",onChange:q,type:"range",min:"0",max:"1",step:"any"})]}),(0,s.jsxs)("div",{className:"duration-container",children:[(0,s.jsx)("div",{className:"current-time",children:V(m)}),"/",(0,s.jsx)("div",{className:"total-time",children:u})]}),(0,s.jsxs)("div",{className:"relative text-left",children:[N?"":(0,s.jsx)("div",{className:" relative right-4",children:(0,s.jsx)("button",{type:"button",className:"speed-btn inline-flex items-center px-4 py-2 border border-gray-300  duration-150 speedBtnDefault",id:"speedDropdown",onClick:e=>{e.stopPropagation(),b(!N)},children:"".concat(f,"x")})}),N?(0,s.jsx)("div",{className:"absolute right-4 top-0 speedButtons",style:{top:"-174px"},children:[1,1.25,1.5,1.75,2].sort((e,t)=>t-e).map(e=>(0,s.jsx)(l.Fragment,{children:e===f?(0,s.jsx)("strong",{children:(0,s.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),H(e)},className:"speed-btn inline-flex items-center px-4 py-2 border text-red duration-150",children:"".concat(e,"x")})}):(0,s.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),H(e)},className:"speed-btn inline-flex items-center px-4 py-2 text-white duration-150",children:"".concat(e,"x")})},e))}):null]}),(0,s.jsx)("button",{className:"full-screen-btn",children:c?(0,s.jsx)("svg",{viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})}):(0,s.jsx)("svg",{className:"open",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"currentColor",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),(0,s.jsx)("video",{ref:w,src:C,autoPlay:!0,children:(0,s.jsx)("track",{kind:"captions",src:"../../../assets/subtitles.vtt"})})]}),y?null:(0,s.jsx)("div",{className:"progress-line-outside-controls",style:{width:"".concat(h,"%")}})]})};t.default=r}}]);