(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{8844:function(e,s,a){Promise.resolve().then(a.bind(a,5468))},5468:function(e,s,a){"use strict";a.r(s);var t=a(9268),l=a(6006),r=a(5846),i=a.n(r),n=a(9239),d=a(5181),c=a(9700),o=a(6008),m=a(4751),u=a(447),x=a(5422),p=a(8914),h=a(1712);let f=()=>{let e=(0,o.useRouter)(),s=(0,c.cI)(),{formState:{errors:a}}=(0,c.cI)(),[r,f]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!0),{data:j,status:y}=(0,m.useSession)(),[w,N]=(0,l.useState)(""),[v,k]=(0,l.useState)(""),[S,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(v){N(v);let e=setTimeout(()=>{N("")},1e3);return()=>clearTimeout(e)}},[v]),(0,l.useEffect)(()=>{"authenticated"===y&&E(!0)},[y]),(0,l.useEffect)(()=>{let e=s.formState.isValid;g(!e)},[s.formState.isValid]);let _=s.handleSubmit(async s=>{f(!0);let a=await u.Z.post("https://localhost:7263/api/Account/register",{firstName:s.first_name,lastName:s.last_name,email:s.email_address,password:s.password,plan:{id:1,name:"test"},status:"pending"},{headers:{"Content-Type":"application/json"},httpsAgent:new x.Agent({rejectUnauthorized:!1})});if(200===a.status&&a.data){let t=a.data,l=JSON.stringify(t.profile);h.Z.set("userProfile",l,{expires:7}),f(!1),await (0,m.signIn)("credentials",{redirect:!1,email:s.email,password:s.password}),e.push("/plan-selection")}else k(a&&(null==a?void 0:a.data))});return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:S?j&&(null==j?void 0:j.user)&&j.user.name?(0,t.jsx)("form",{className:"container",children:(0,t.jsxs)("div",{className:"p-6 bg-dark rounded-lg shadow-md max-w-md",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"STEP 1 OF 3"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Account created"}),(0,t.jsx)("h3",{className:"text-lg text-gray mb-6",children:"use below email to log in"}),(0,t.jsx)("div",{className:"grid grid-cols-2 text-black gap-4 mt-4",children:j&&j.user&&j.user.email}),(0,t.jsx)("div",{className:"py-8",children:(0,t.jsx)(i(),{href:"/plan-selection",className:"w-full py-2 rounded-md text-white bg-red hover:bg-red",style:{backgroundColor:"#EF4444",cursor:"pointer"},children:(0,t.jsx)("span",{className:"items-center justify-center",children:"Continue"})})})]})}):null:(0,t.jsx)(c.RV,{...s,children:(0,t.jsx)("form",{onSubmit:e=>e.preventDefault(),noValidate:!0,autoComplete:"off",className:"container",children:(0,t.jsxs)("div",{className:"p-6 bg-dark rounded-lg shadow-md max-w-md",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"STEP 1 OF 3"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Confirm your account details"}),(0,t.jsx)("h3",{className:"text-lg text-gray mb-6",children:"IsolakwaMUNTU is committed to give you all you need to awaken your inner child."}),(0,t.jsx)("p",{className:"text-red ".concat(w?"opacity-100":"opacity-0"),children:w}),(0,t.jsxs)("div",{className:"grid grid-cols-2 text-black gap-4 mt-4",children:[(0,t.jsx)(n.I,{...d.no}),(0,t.jsx)(n.I,{...d.Fu})]}),(0,t.jsx)("div",{className:"text-black",children:(0,t.jsx)(n.I,{...d.ds})}),(0,t.jsxs)("label",{className:"text-left mt-2 flex items-center",children:[(0,t.jsx)(n.I,{...d.jR}),(0,t.jsxs)("span",{className:"text-left text-sm",children:["To create an account, you must agree to the",(0,t.jsxs)(i(),{className:"text-red hover:underline",href:"/terms-privacy",target:"_blank",children:[" ","Terms of Use and Privacy Policy"]})," ","by checking this box."]})]}),(0,t.jsxs)("label",{className:"text-left mt-4 flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"mr-2"}),"Yes, sign me up for emails about IsolaKwaMUNTUs latest releases and news."]}),(0,t.jsx)("div",{className:"py-8",children:r?(0,t.jsx)(p.Z,{}):(0,t.jsx)("button",{type:"submit",onClick:_,className:"w-full py-2 rounded-md text-white ".concat(r?"bg-gray cursor-not-allowed":"bg-red hover:bg-red"),style:{backgroundColor:b?"#E5E7EB":"#EF4444",cursor:b?"not-allowed":"pointer"},disabled:r,children:(0,t.jsx)("span",{className:"items-center justify-center",children:"Continue"})})})]})})})})};s.default=f},9239:function(e,s,a){"use strict";a.d(s,{I:function(){return r}});var t=a(9268),l=a(9700);let r=e=>{let{label:s,type:a,id:r,placeholder:i,name:n,validation:d}=e,{register:c,trigger:o,formState:{errors:m}}=(0,l.Gc)(),u=m[n];return(0,t.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,t.jsx)("div",{className:"flex justify-between",children:(0,t.jsx)("label",{htmlFor:r,className:"text-left",children:s})}),u&&(0,t.jsxs)("pre",{className:"text-red",style:{marginTop:"-27px"},children:[" ",u.message]}),(0,t.jsx)("input",{id:r,type:a,className:"".concat("checkbox"===a?"mr-2":"w-full p-3 font-medium border text-black rounded-md border-slate-300 placeholder-opacity-60"),placeholder:i,...c(r,d),onKeyUp:()=>o(r)})]})}},8914:function(e,s,a){"use strict";var t=a(9268);let l=()=>(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsxs)("div",{className:"w-12 h-6 relative animate-pulse",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-3 h-6 bg-lightred  animate-loader-bar delay-150"}),(0,t.jsx)("div",{className:"absolute top-0 left-4 w-3 h-6 bg-orange  animate-loader-bar delay-200"}),(0,t.jsx)("div",{className:"absolute top-0 left-8 w-3 h-6 bg-yellow  animate-loader-bar delay-250"}),(0,t.jsx)("div",{className:"absolute top-0 left-12 w-3 h-6 bg-green  animate-loader-bar delay-300"})]})});s.Z=l},5181:function(e,s,a){"use strict";a.d(s,{Fu:function(){return i},ds:function(){return r},jR:function(){return n},lT:function(){return l},no:function(){return t}});let t={name:"first_name",label:"first_name",type:"text",id:"first_name",placeholder:"first name",validation:{required:{value:!0,message:"name is required"}}},l={name:"password",label:"Password",type:"password",id:"password",placeholder:"password",validation:{required:{value:!0,message:"password is required."}}},r={name:"password",label:"Password",type:"password",id:"password",placeholder:"password",validation:{required:{value:!0,message:"password is required."},minLength:{value:6,message:"minimun of 6 characters is required."}}},i={name:"email",label:"Email Address",type:"email",id:"email",placeholder:"email address",validation:{required:{value:!0,message:"email is required."},pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"email address is not valid"}}},n={name:"",label:"",type:"checkbox",placeholder:"",id:"t&cs",validation:{required:{value:!0,message:"check is required."}}}}},function(e){e.O(0,[414,751,447,835,436,667,139,744],function(){return e(e.s=8844)}),_N_E=e.O()}]);